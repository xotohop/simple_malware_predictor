import pandas as pd
import pickle

test = pd.read_csv('tsv_pp/test.tsv', delimiter='\t')
X_test = test.drop('libs', axis=1)

pkl_filename = 'XGBoost_model.pkl'
with open('models/' + pkl_filename, 'rb') as file:
    model = pickle.load(file)

prediction = model.predict(X_test)

with open('output/prediction.txt', 'w') as file:
    file.write('prediction\n')
    for pred in prediction:
        file.write('{}\n'.format(pred))